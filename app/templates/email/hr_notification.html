<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR Notification</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: #f8f9fa; padding: 20px; border-radius: 8px 8px 0 0; }
        .content { background: white; padding: 20px; border: 1px solid #dee2e6; }
        .info-box { padding: 15px; margin: 15px 0; border-radius: 5px; }
        .approved { background: #d4edda; border-left: 4px solid #28a745; }
        .rejected { background: #f8d7da; border-left: 4px solid #dc3545; }
        .new { background: #d1ecf1; border-left: 4px solid #17a2b8; }
        .footer { background: #f8f9fa; padding: 15px; border-radius: 0 0 8px 8px; font-size: 12px; color: #666; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>üìã HR Notification: Employee Resignation Update</h2>
        </div>

        <div class="content">
            {% if message_type == 'new_submission' %}
            <div class="info-box new">
                <h3>üÜï New Resignation Submission</h3>
                <p>A new resignation has been submitted for {{ employee_name }} ({{ employee_email }}).</p>
            </div>
            {% elif message_type == 'leader_approved' %}
            <div class="info-box approved">
                <h3>‚úÖ Leader Approved</h3>
                <p>The resignation of {{ employee_name }} has been approved by the Team Leader and is now with the CHM for final approval.</p>
            </div>
            {% elif message_type == 'chm_approved' %}
            <div class="info-box approved">
                <h3>‚úÖ CHM Approved - Ready for HR Processing</h3>
                <p>The resignation of {{ employee_name }} has received final approval from the CHM. Please proceed with HR processing.</p>
            </div>
            {% elif message_type == 'chm_rejected' %}
            <div class="info-box rejected">
                <h3>‚ùå CHM Rejected</h3>
                <p>The resignation of {{ employee_name }} has been rejected by the CHM.</p>
            </div>
            {% elif message_type == 'leader_rejected' %}
            <div class="info-box rejected">
                <h3>‚ùå Leader Rejected</h3>
                <p>The resignation of {{ employee_name }} has been rejected by the Team Leader.</p>
            </div>
            {% endif %}

            <div style="background: #e9ecef; padding: 15px; margin: 15px 0; border-radius: 5px;">
                <h4>Employee Details</h4>
                <p><strong>Name:</strong> {{ employee_name }}</p>
                <p><strong>Email:</strong> {{ employee_email }}</p>
                {% if submission_data.last_working_day %}
                <p><strong>Last Working Day:</strong> {{ submission_data.last_working_day }}</p>
                {% endif %}
                {% if submission_data.leader_notes %}
                <p><strong>Leader Notes:</strong> {{ submission_data.leader_notes }}</p>
                {% endif %}
                {% if submission_data.chinese_head_notes %}
                <p><strong>CHM Notes:</strong> {{ submission_data.chinese_head_notes }}</p>
                {% endif %}
            </div>

            <p><em>Please log in to the HR system for more details and to take appropriate action.</em></p>
        </div>

        <div class="footer">
            <p>This is an automated message from the HR Automation System.</p>
            <p>Date: {{ current_date }}</p>
        </div>
    </div>
</body>
</html>